<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ett Pass Till</title>

  <!-- PWA -->
  <link rel="manifest" href="/gymlogg/manifest.webmanifest">
  <meta name="theme-color" content="#0b1220">

  <!-- Icons -->
  <link rel="icon" href="/gymlogg/icons/icon-192.png">
  <link rel="apple-touch-icon" href="/gymlogg/icons/icon-192.png">

  <!-- Styles -->
  <link rel="stylesheet" href="/gymlogg/styles.css">
</head>

<body>

  <!-- ========================= -->
  <!-- APP UI -->
  <!-- ========================= -->

  <header>
    <h1>Ett Pass Till</h1>
    <p>Planera • Träna • Följ upp</p>
  </header>

  <nav>
    <button onclick="showTab('stations')">1. Stationer</button>
    <button onclick="showTab('plans')">2. Planer</button>
    <button onclick="showTab('workout')">3. Träning</button>
    <button onclick="showTab('history')">4. Historik</button>
  </nav>

  <main>

    <!-- Stationer -->
    <section id="stations">
      <h2>Stationer</h2>
      <input id="stationName" placeholder="Ny station">
      <button onclick="addStation()">Lägg till</button>
      <ul id="stationList"></ul>
    </section>

    <!-- Planer -->
    <section id="plans" style="display:none">
      <h2>Planer</h2>
      <input id="planName" placeholder="Pass A">
      <button onclick="addPlan()">Skapa plan</button>
      <select id="planSelect" onchange="renderPlan()"></select>
      <div id="planEditor"></div>
    </section>

    <!-- Träning -->
    <section id="workout" style="display:none">
      <h2>Träning</h2>
      <select id="workoutSelect"></select>
      <button onclick="startWorkout()">Starta pass</button>
      <div id="workoutList"></div>
      <button onclick="finishWorkout()">Avsluta & spara</button>
    </section>

    <!-- Historik -->
    <section id="history" style="display:none">
      <h2>Historik</h2>
      <button onclick="exportCSV()">Exportera CSV</button>
      <table border="1">
        <thead>
          <tr>
            <th>Datum</th>
            <th>Pass</th>
            <th>Station</th>
            <th>Vikt</th>
            <th>Set</th>
            <th>Reps</th>
          </tr>
        </thead>
        <tbody id="historyTable"></tbody>
      </table>
    </section>

  </main>

  <!-- ========================= -->
  <!-- Scripts -->
  <!-- ========================= -->

  <script src="/gymlogg/app.js"></script>

  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("/gymlogg/sw.js", {
          scope: "/gymlogg/"
        });
      });
    }
  </script>

</body>
</html>
